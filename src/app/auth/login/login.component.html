<body>
  <!--=========== Global Loading Bar =================
  ====================================================-->
  <div *ngIf="isLoading" class="loading-bar"></div>

  <!--=========== Page Title =========================
  ====================================================-->
  <p class="title">AUCTION BAZAAR</p>

  <!--=========== Login Form Container ===============
  ====================================================-->
  <div class="form-container">
    <h2>Login</h2>

    <!--============== Login Form ====================
    ==================================================-->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <!--============ Email Field ===================
      ================================================-->
      <div class="form-group">
        <label for="email">Email</label>
        <div class="input-icon">
          <i class="fa fa-envelope"></i>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Enter your email"
            required
          />
        </div>
        <small *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
          Please enter a valid email.
        </small>
      </div>

      <!--================= Password Field =====================
      ==========================================================-->
      <div class="form-group">
        <label for="password">Password</label>
        <div class="input-icon">
          <i class="fa fa-lock"></i>
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="Enter your password"
            required
            (focus)="onPasswordFocus()"
            (input)="onPasswordInput()"
            (blur)="onPasswordBlur()"
          />
          <!--========= Toggle Show/Hide Password ========
          ================================================-->
          <span class="toggle-icon" (click)="togglePasswordVisibility()">
            <i class="fa" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
          </span>
        </div>
        <small *ngIf="showPasswordDescription && !isPasswordValid" class="password-description">
          Password must be at least 6 characters.
        </small>
      </div>

      <!--=================== User Role Selection ======================
      ==================================================================-->
      <div class="form-group">
        <label for="role">User Role</label>
        <div class="input-icon">
          <i class="fas fa-user-tag"></i>
          <select id="role" formControlName="role" required>
            <option value="Auctioner">Auctioner</option>
            <option value="Bidder">Bidder</option>
            <option value="Admin">Admin</option>
          </select>
        </div>
        <small *ngIf="loginForm.get('role')?.invalid && loginForm.get('role')?.touched">
          Please select a role.
        </small>
      </div>

      <!--================ Submit Button =======================
      ==========================================================-->
      <button type="submit" [disabled]="loginForm.invalid">Login</button>

      <!--================ Forgot Password =====================
      ==========================================================-->
      <div class="links">
        <a (click)="navigateToPasswordRecovery()">Forgot Password?</a>
      </div>

      <!--================ Register Link ========================
      ===========================================================-->
      <div class="links">
        <span>Don't have an account?</span>
        <a (click)="navigateToRegister()">Register here</a>
      </div>

    </form>
    <!--================== End of Form ===========================
    ==============================================================-->

  </div>
  <!--================== End of Container ========================
  ================================================================-->

</body>
